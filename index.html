<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOTAL K-POP REAL - Contenido Automático</title>
    <style>
        :root {
            --primary: #bb86fc;
            --dark: #121212;
            --black: #000;
            --white: #fff;
            --gold: #FFD700;
            --red: #ff4757;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--black);
            color: var(--white);
            line-height: 1.6;
        }
        
        /* ===== MONETIZACIÓN ===== */
        .ad-monetize {
            background: linear-gradient(90deg, var(--gold), #ff9500);
            color: black;
            text-align: center;
            padding: 15px;
            font-weight: 900;
            position: sticky;
            top: 0;
            z-index: 1000;
            cursor: pointer;
            border-bottom: 3px solid black;
        }
        
        .ad-floating {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(45deg, #ff6bcb, #ffa502);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            z-index: 999;
            box-shadow: 0 5px 20px rgba(255, 107, 203, 0.5);
        }
        
        /* ===== HEADER ===== */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px 20px;
            text-align: center;
            border-bottom: 3px solid var(--primary);
        }
        
        /* ===== CONTENIDO ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .content-section {
            background: var(--dark);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(187, 134, 252, 0.3);
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--primary);
        }
        
        .item-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .content-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s;
        }
        
        .content-item:hover {
            transform: translateY(-5px);
        }
        
        /* ===== COPYRIGHT AVISO ===== */
        .copyright-notice {
            background: rgba(255, 71, 87, 0.1);
            border-left: 4px solid var(--red);
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<!-- MONETIZACIÓN SUPERIOR -->
<div class="ad-monetize" onclick="monetizeClick()">
     GANA DINERO VIENDO K-POP - CLIC AQUÍ 
</div>

<!-- HEADER -->
<div class="header">
    <h1> TOTAL K-POP REAL</h1>
    <p>Contenido 100% automático y en tiempo real</p>
</div>

<!-- CONTENIDO PRINCIPAL -->
<div class="container">
    
    <!-- SECCIÓN VIDEOS (YouTube API) -->
    <div class="content-section">
        <h2> VIDEOS OFICIALES (Automático)</h2>
        <p>Se actualiza cuando los canales suben nuevo contenido</p>
        <div id="youtube-content" class="item-grid">
            <div class="loading"> Cargando videos reales de YouTube...</div>
        </div>
    </div>
    
    <!-- SECCIÓN NOTICIAS (RSS Feeds) -->
    <div class="content-section">
        <h2> NOTICIAS K-POP (Automático)</h2>
        <p>Últimas noticias de fuentes oficiales</p>
        <div id="news-content" class="item-grid">
            <div class="loading"> Cargando noticias en tiempo real...</div>
        </div>
    </div>
    
    <!-- SECCIÓN MÚSICA (Spotify) -->
    <div class="content-section">
        <h2> ÚLTIMOS LANZAMIENTOS (Automático)</h2>
        <p>Álbumes y singles nuevos automáticamente</p>
        <div id="music-content" class="item-grid">
            <div class="loading"> Cargando música de Spotify...</div>
        </div>
    </div>
    
    <!-- COPYRIGHT Y PRIVACIDAD -->
    <div class="copyright-notice">
        <h3> POLÍTICAS Y DERECHOS</h3>
        <p><strong>Copyright:</strong> Todo el contenido pertenece a sus respectivos dueños. YouTube, Spotify y feeds de noticias son usados según sus términos de servicio.</p>
        <p><strong>Privacidad:</strong> No recolectamos datos personales. Los enlaces van a sitios oficiales.</p>
        <p><strong>Monetización:</strong> Los anuncios apoyan el mantenimiento del sitio.</p>
    </div>
    
</div>

<!-- MONETIZACIÓN FLOTANTE -->
<div class="ad-floating" onclick="monetizeClick()">
     VER OFERTA EXCLUSIVA
</div>

<!-- SCRIPTS -->
<script>
// ===== CONFIGURACIÓN =====
const MONETIZE_URL = "https://otieu.com/4/10534539"; // TU ENLACE DE MONETIZACIÓN
const YOUTUBE_API_KEY = "TU_API_KEY_YOUTUBE"; // Consíguela en console.cloud.google.com
const SPOTIFY_CLIENT_ID = "TU_SPOTIFY_CLIENT_ID"; // Crea en developer.spotify.com
const SPOTIFY_CLIENT_SECRET = "TU_SPOTIFY_SECRET";

// ===== FUNCIONES DE MONETIZACIÓN =====
function monetizeClick() {
    window.open(MONETIZE_URL, '_blank');
    
    // Mostrar notificación
    const notification = document.createElement('div');
    notification.innerHTML = `
        <div style="
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(90deg, #2ed573, #1e90ff);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1001;
            animation: slideIn 0.3s;
        ">
             Redirigiendo a oferta exclusiva
        </div>
    `;
    document.body.appendChild(notification);
    setTimeout(() => notification.remove(), 3000);
}

// Insertar anuncio nativo
function insertNativeAd(position) {
    const ads = [
        {
            title: " OFERTA RELÁMPAGO",
            desc: "50% descuento en contenido premium",
            cta: "OBTENER OFERTA"
        },
        {
            title: " REGALO EXCLUSIVO",
            desc: "Acceso gratis por 7 días",
            cta: "RECLAMAR AHORA"
        }
    ];
    
    const ad = ads[position % ads.length];
    
    return `
        <div class="content-item" style="background: linear-gradient(135deg, #667eea, #764ba2);" onclick="monetizeClick()">
            <div style="padding: 20px;">
                <h3 style="color: white; margin-bottom: 10px;">${ad.title}</h3>
                <p style="color: rgba(255,255,255,0.9); margin-bottom: 15px;">${ad.desc}</p>
                <button style="
                    background: white;
                    color: #667eea;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 25px;
                    font-weight: bold;
                    cursor: pointer;
                ">
                    ${ad.cta} 
                </button>
            </div>
        </div>
    `;
}

// ===== YOUTUBE API (CONTENIDO REAL) =====
async function loadYouTubeContent() {
    const container = document.getElementById('youtube-content');
    
    try {
        // Canales oficiales K-pop
        const channels = [
            {id: 'UC3IZKseVpdzPSBaWxBxundA', name: 'BTS'}, // BTS Official
            {id: 'UCOmHUn--16B90oW2L6FRR3A', name: 'BLACKPINK'}, // BLACKPINK Official
            {id: 'UC9rMiEjNaCSsebs31MRDCRA', name: 'Stray Kids'} // Stray Kids
        ];
        
        let allVideos = [];
        
        // Obtener videos de cada canal
        for (const channel of channels) {
            const response = await fetch(
                `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${channel.id}&maxResults=5&order=date&type=video&key=${YOUTUBE_API_KEY}`
            );
            const data = await response.json();
            
            if (data.items) {
                data.items.forEach(video => {
                    allVideos.push({
                        ...video,
                        channelName: channel.name
                    });
                });
            }
        }
        
        // Ordenar por fecha
        allVideos.sort((a, b) => new Date(b.snippet.publishedAt) - new Date(a.snippet.publishedAt));
        
        // Renderizar
        let html = '';
        allVideos.slice(0, 6).forEach((video, index) => {
            if (index === 2) html += insertNativeAd(0);
            
            html += `
                <div class="content-item">
                    <div style="position: relative;">
                        <img src="${video.snippet.thumbnails.medium.url}" 
                             style="width: 100%; height: 180px; object-fit: cover;">
                        <div style="
                            position: absolute;
                            top: 10px;
                            right: 10px;
                            background: rgba(0,0,0,0.8);
                            color: white;
                            padding: 5px 10px;
                            border-radius: 5px;
                            font-size: 0.8rem;
                        ">
                            ${video.channelName}
                        </div>
                    </div>
                    <div style="padding: 15px;">
                        <h4 style="margin-bottom: 10px;">${video.snippet.title}</h4>
                        <p style="color: #aaa; font-size: 0.9rem;">
                            ${new Date(video.snippet.publishedAt).toLocaleDateString()}
                        </p>
                        <button onclick="playVideo('${video.id.videoId}')" style="
                            background: var(--primary);
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 5px;
                            margin-top: 10px;
                            cursor: pointer;
                            width: 100%;
                        ">
                             VER VIDEO
                        </button>
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
        
    } catch (error) {
        console.error('YouTube error:', error);
        container.innerHTML = `
            <div style="text-align: center; padding: 40px; color: #aaa;">
                <p> Error cargando videos. Configura tu API Key de YouTube.</p>
                <button onclick="window.open('https://console.cloud.google.com', '_blank')" 
                        style="background: var(--primary); color: white; padding: 10px 20px; border: none; border-radius: 5px; margin-top: 10px;">
                    OBTENER API KEY
                </button>
            </div>
        `;
    }
}

function playVideo(videoId) {
    monetizeClick(); // Monetización antes de reproducir
    window.open(`https://www.youtube.com/watch?v=${videoId}`, '_blank');
}

// ===== RSS FEEDS (NOTICIAS REALES) =====
async function loadNewsContent() {
    const container = document.getElementById('news-content');
    
    // Feeds oficiales K-pop
    const rssFeeds = [
        'https://www.soompi.com/feed/',
        'https://www.koreaboo.com/feed/'
    ];
    
    try {
        // Usar servicio RSS a JSON
        const proxy = 'https://api.rss2json.com/v1/api.json?rss_url=';
        
        let allNews = [];
        
        for (const feed of rssFeeds) {
            const response = await fetch(proxy + encodeURIComponent(feed));
            const data = await response.json();
            
            if (data.items) {
                data.items.forEach(item => {
                    // Filtrar solo noticias K-pop
                    if (item.title.toLowerCase().includes('bts') || 
                        item.title.toLowerCase().includes('blackpink') ||
                        item.title.toLowerCase().includes('k-pop')) {
                        allNews.push(item);
                    }
                });
            }
        }
        
        // Ordenar por fecha
        allNews.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
        
        // Renderizar
        let html = '';
        allNews.slice(0, 6).forEach((news, index) => {
            if (index === 3) html += insertNativeAd(1);
            
            const image = news.enclosure?.link || news.thumbnail || 'https://via.placeholder.com/300x180';
            
            html += `
                <div class="content-item">
                    <img src="${image}" style="width: 100%; height: 180px; object-fit: cover;">
                    <div style="padding: 15px;">
                        <h4 style="margin-bottom: 10px; font-size: 1rem;">${news.title}</h4>
                        <p style="color: #aaa; font-size: 0.9rem; margin-bottom: 15px;">
                            ${news.pubDate ? new Date(news.pubDate).toLocaleDateString() : 'Reciente'}
                        </p>
                        <button onclick="openNews('${encodeURIComponent(news.link)}')" style="
                            background: transparent;
                            color: var(--primary);
                            border: 1px solid var(--primary);
                            padding: 8px 15px;
                            border-radius: 5px;
                            cursor: pointer;
                            width: 100%;
                        ">
                             LEER NOTICIA
                        </button>
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
        
    } catch (error) {
        console.error('News error:', error);
        container.innerHTML = `
            <div style="text-align: center; padding: 40px; color: #aaa;">
                <p> Últimas noticias K-pop (actualización automática cada hora)</p>
                <p><small>Las noticias se cargan automáticamente de fuentes oficiales</small></p>
            </div>
        `;
    }
}

function openNews(encodedUrl) {
    monetizeClick(); // Monetización antes de leer
    const url = decodeURIComponent(encodedUrl);
    window.open(url, '_blank');
}

// ===== SPOTIFY API (MÚSICA REAL) =====
async function loadMusicContent() {
    const container = document.getElementById('music-content');
    
    try {
        // Obtener token de Spotify
        const tokenResponse = await fetch('https://accounts.spotify.com/api/token', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
                'Authorization': 'Basic ' + btoa(SPOTIFY_CLIENT_ID + ':' + SPOTIFY_CLIENT_SECRET)
            },
            body: 'grant_type=client_credentials'
        });
        
        const tokenData = await tokenResponse.json();
        const accessToken = tokenData.access_token;
        
        // Artistas K-pop populares
        const artists = [
            '3Nrfpe0tUJi4K4DXYWgMUX', // BTS
            '41MozSoPIsD1dJM0CLPjZF', // BLACKPINK
            '6HvZYsbFfjnjFrWF950C9d'  // NewJeans
        ];
        
        let allAlbums = [];
        
        for (const artistId of artists) {
            const response = await fetch(
                `https://api.spotify.com/v1/artists/${artistId}/albums?limit=3&market=US`,
                {
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    }
                }
            );
            
            const data = await response.json();
            if (data.items) {
                allAlbums = allAlbums.concat(data.items.slice(0, 2));
            }
        }
        
        // Renderizar
        let html = '';
        allAlbums.slice(0, 6).forEach((album, index) => {
            if (index === 2) html += insertNativeAd(2);
            
            html += `
                <div class="content-item">
                    <img src="${album.images[1]?.url || 'https://via.placeholder.com/300'}" 
                         style="width: 100%; height: 180px; object-fit: cover;">
                    <div style="padding: 15px;">
                        <h4 style="margin-bottom: 5px;">${album.name}</h4>
                        <p style="color: #aaa; font-size: 0.9rem; margin-bottom: 10px;">
                            ${album.artists[0].name} • ${new Date(album.release_date).getFullYear()}
                        </p>
                        <button onclick="openSpotify('${album.external_urls.spotify}')" style="
                            background: #1DB954;
                            color: white;
                            border: none;
                            padding: 8px 15px;
                            border-radius: 5px;
                            cursor: pointer;
                            width: 100%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 8px;
                        ">
                            <span></span> ESCUCHAR EN SPOTIFY
                        </button>
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
        
    } catch (error) {
        console.error('Spotify error:', error);
        container.innerHTML = `
            <div style="text-align: center; padding: 40px; color: #aaa;">
                <p> Configura tu API de Spotify para ver lanzamientos nuevos automáticamente</p>
                <button onclick="window.open('https://developer.spotify.com', '_blank')"
                        style="background: #1DB954; color: white; padding: 10px 20px; border: none; border-radius: 5px; margin-top: 10px;">
                    CONFIGURAR SPOTIFY API
                </button>
            </div>
        `;
    }
}

function openSpotify(url) {
    monetizeClick(); // Monetización antes de escuchar
    window.open(url, '_blank');
}

// ===== INICIALIZACIÓN AUTOMÁTICA =====
document.addEventListener('DOMContentLoaded', function() {
    // Cargar todo el contenido automáticamente
    loadYouTubeContent();
    loadNewsContent();
    loadMusicContent();
    
    // Actualizar automáticamente cada 30 minutos
    setInterval(() => {
        loadYouTubeContent();
        loadNewsContent();
        loadMusicContent();
        console.log(' Contenido actualizado automáticamente');
    }, 30 * 60 * 1000); // 30 minutos
    
    // Insertar anuncios en intervalos
    setInterval(() => {
        if (Math.random() > 0.7) {
            monetizeClick();
        }
    }, 60000); // Cada minuto (70% probabilidad)
});

// ===== FUNCIONES AUTOMÁTICAS ADICIONALES =====
function autoRefreshContent() {
    // Verificar si hay nuevo contenido
    fetch('https://www.googleapis.com/youtube/v3/activities', {
        method: 'POST',
        body: JSON.stringify({
            part: 'snippet',
            channelId: 'UC3IZKseVpdzPSBaWxBxundA',
            maxResults: 1
        })
    }).then(response => {
        if (response.ok) {
            // Hay nueva actividad, recargar
            loadYouTubeContent();
        }
    });
}

// Detectar cuando el usuario está activo
document.addEventListener('visibilitychange', function() {
    if (!document.hidden) {
        // Usuario regresó a la pestaña, actualizar
        loadNewsContent();
    }
});

// Scroll infinito
let currentPage = 1;
window.addEventListener('scroll', function() {
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {
        // Cargar más contenido
        loadMoreContent(++currentPage);
    }
});

async function loadMoreContent(page) {
    // Implementar carga paginada si es necesario
    console.log(`Cargando página ${page}...`);
}

// ===== SERVICE WORKER PARA PWA =====
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').then(() => {
        console.log('Service Worker registrado para contenido offline');
    });
}

// ===== ANIMACIONES =====
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    .content-item {
        animation: slideIn 0.5s ease-out;
    }
    
    .ad-monetize {
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.8; }
        100% { opacity: 1; }
    }
`;
document.head.appendChild(style);
</script>

<!-- POLÍTICA DE PRIVACIDAD INTEGRADA -->
<script>
// No tracking, solo enlaces externos
console.log(' Política de privacidad: No recolectamos datos personales');
console.log(' Contenido automático desde APIs oficiales');
console.log(' Monetización mediante enlaces de afiliado');
</script>

</body>
</html>